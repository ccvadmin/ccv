<odoo>
    <data>
        <!-- Nhân viên bán hàng (Salesperson) Rule -->
        <record id="proposal_user_rule" model="ir.rule">
            <field name="name">Nhân viên bán hàng</field>
            <field name="model_id" ref="model_order_link"/>
            <field name="domain_force">['|',('sale_order_id.user_id', '=', False),('sale_order_id.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('group_sales_confirm_order_user')),(4, ref('sales_team.group_sale_salesman'))]"/>
        </record>
        
        <!-- Trợ lý đội bán hàng (Sales Assistant) Rule -->
        <record id="proposal_assistant_rule" model="ir.rule"> <!-- Changed id -->
            <field name="name">Trợ lý đội bán hàng</field>
            <field name="model_id" ref="model_order_link"/>
            <field name="domain_force">['|',('sale_order_id.sales_assistant_ids', '=', False),('sale_order_id.sales_assistant_ids', 'in', [user.id])]</field>
            <field name="groups" eval="[(4, ref('biz_ccv_account.group_sales_admin_sales_team_leader'))]"/>
        </record>
        
        <!-- Trưởng đội bán hàng (Sales Team Leader) Rule -->
        <record id="proposal_manager_rule" model="ir.rule">
            <field name="name">Trưởng đội bán hàng</field>
            <field name="model_id" ref="model_order_link"/>
            <field name="domain_force">['|',('sale_order_id.sales_team_captain_id', '=', False),('sale_order_id.sales_team_captain_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('biz_ccv_account.group_sales_team_leader'))]"/>
        </record>
        
        <!-- Quản lý (Administrator) Rule -->
        <record id="proposal_admin_rule" model="ir.rule">
            <field name="name">Quản lý</field>
            <field name="model_id" ref="model_order_link"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('sales_team.group_sale_manager')),(4, ref('sales_team.group_sale_salesman_all_leads')),(4, ref('group_sales_confirm_order_manager')),(4, ref('group_sales_confirm_order_admin')),(4, ref('base.group_system'))]"/>
        </record>
    </data>
</odoo>
